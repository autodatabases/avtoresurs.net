{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
    <title>
        {% block title %}{% endblock title %}
    </title>

    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="{% static 'main/css/materialize.css' %}" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link rel="stylesheet/less" type="text/css" href="{% static 'main/css/styles.less' %}"/>
    <script src="{% static 'main/js/less.min.js' %}" type="text/javascript"></script>
    {#    <link href="{% static 'main/js/less.min.js' %}" type="text/css" rel="stylesheet" media="screen,projection"/>#}
    {#    <link href="{% static 'main/css/style.css' %}" type="text/css" rel="stylesheet" media="screen,projection"/>#}
    <link rel="stylesheet" href="{% static 'main/css/font-awesome.min.css' %}">
</head>
<body class="grey lighten-4">
<!--  Scripts-->
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="{% static 'main/js/materialize.js' %}"></script>
<script src="{% static 'main/js/init.js' %}"></script>

{#navbar#}
<!-- Dropdown Structure -->
<ul id="dropdown_nav" class="dropdown-content">
    <li><a href="#!">О компании</a></li>
    <li><a href="#!">Бренды</a></li>
    {#    <li class="divider"></li>#}
    <li><a href="#!">Ассортимент</a></li>
    <li><a href="#!">Запчасти для грузовиков</a></li>
    <li><a href="#!">FAQ</a></li>
    <li><a href="#!">Для автосервисов</a></li>
    <li><a href="#!">Контакты</a></li>
</ul>
<nav class="blue darken-4" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="/" class="brand-logo">Авторесурс</a>
        <ul class="right hide-on-med-and-down">
            <li>
                <form action="/shop/search/">
                    <div class="input-field">
                        <input id="search" type="search" required name="q" style="height: 63px" class="no-margin-bot">
                        <label for="search"><i class="material-icons">search</i></label>
                        <i class="material-icons">close</i>
                    </div>
                </form>
            </li>
            <li><a href="#">Новости</a></li>
            <li><a href="/shop">Интернет магазин</a></li>
            <li><a href="#">Бонусная акция</a></li>
            <!-- Dropdown Trigger -->
            <li><a class="dropdown-button" href="#!" data-activates="dropdown_nav">О компании<i
                    class="material-icons right">arrow_drop_down</i></a>
            </li>
            <li>
                <!-- HEADER CART -->
                <div class="header_cart">
                    <a href="{% url 'cart' %}"><i class="fa fa-shopping-cart"></i> Корзина: <span
                            id="cart-count-badge">{{ request.session.cart_item_count }}</span> товар(ов)</a>
                </div>
            </li>

        </ul>

        <ul id="nav-mobile" class="side-nav">
            <li><a href="#">Navbar Link</a></li>
            <li><a href="#">Navbar Link</a></li>
            <li><a href="#">Navbar Link</a></li>
            <li><a href="#">Navbar Link</a></li>
            <li><a href="#">Navbar Link</a></li>
            <li><a href="#">Navbar Link</a></li>
        </ul>
        <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>

    </div>
</nav>

<div class="container">
    {% block breadcrumbs %}{% endblock %}
</div>

<main style="padding: 30px 0">
    <div class="container">
        {% block content %}{% endblock %}
    </div>
</main>

{#<div class="section no-pad-bot" id="index-banner">#}
{#    <div class="container">#}
{##}
{#        <br><br>#}
{#        <h1 class="header center orange-text">Starter Template</h1>#}
{#        <div class="row center">#}
{#            <h5 class="header col s12 light">A modern responsive front-end framework based on Material Design</h5>#}
{#        </div>#}
{#        <div class="row center">#}
{#            <a href="http://materializecss.com/getting-started.html" id="download-button"#}
{#               class="btn-large waves-effect waves-light orange">Get Started</a>#}
{#        </div>#}
{#        <br><br>#}
{##}
{#    </div>#}
{#</div>#}
{##}
{##}
{#<div class="container">#}
{#    <div class="section">#}
{##}
{#        <!--   Icon Section   -->#}
{#        <div class="row">#}
{#            <div class="col s12 m4">#}
{#                <div class="icon-block">#}
{#                    <h2 class="center light-blue-text"><i class="material-icons">flash_on</i></h2>#}
{#                    <h5 class="center">Speeds up development</h5>#}
{##}
{#                    <p class="light">We did most of the heavy lifting for you to provide a default stylings that#}
{#                        incorporate our custom components. Additionally, we refined animations and transitions to#}
{#                        provide a smoother experience for developers.</p>#}
{#                </div>#}
{#            </div>#}
{##}
{#            <div class="col s12 m4">#}
{#                <div class="icon-block">#}
{#                    <h2 class="center light-blue-text"><i class="material-icons">group</i></h2>#}
{#                    <h5 class="center">User Experience Focused</h5>#}
{##}
{#                    <p class="light">By utilizing elements and principles of Material Design, we were able to create a#}
{#                        framework that incorporates components and animations that provide more feedback to users.#}
{#                        Additionally, a single underlying responsive system across all platforms allow for a more#}
{#                        unified user experience.</p>#}
{#                </div>#}
{#            </div>#}
{##}
{#            <div class="col s12 m4">#}
{#                <div class="icon-block">#}
{#                    <h2 class="center light-blue-text"><i class="material-icons">settings</i></h2>#}
{#                    <h5 class="center">Easy to work with</h5>#}
{##}
{#                    <p class="light">We have provided detailed documentation as well as specific code examples to help#}
{#                        new users get started. We are also always open to feedback and can answer any questions a user#}
{#                        may have about Materialize.</p>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{##}
{#    </div>#}
{#    <br><br>#}
{##}
{#    <div class="section">#}
{##}
{#    </div>#}
{#</div>#}

<footer class="page-footer blue darken-3">
    <div class="container">
        <div class="row">
            <div class="col l6 s12">
                <h5 class="white-text">Company Bio</h5>
                <p class="grey-text text-lighten-4">We are a team of college students working on this project like it's
                    our full time job. Any amount would help support and continue development on this project and is
                    greatly appreciated.</p>


            </div>
            <div class="col l3 s12">
                <h5 class="white-text">Settings</h5>
                <ul>
                    <li><a class="white-text" href="#!">Link 1</a></li>
                    <li><a class="white-text" href="#!">Link 2</a></li>
                    <li><a class="white-text" href="#!">Link 3</a></li>
                    <li><a class="white-text" href="#!">Link 4</a></li>
                </ul>
            </div>
            <div class="col l3 s12">
                <h5 class="white-text">Connect</h5>
                <ul>
                    <li><a class="white-text" href="#!">Link 1</a></li>
                    <li><a class="white-text" href="#!">Link 2</a></li>
                    <li><a class="white-text" href="#!">Link 3</a></li>
                    <li><a class="white-text" href="#!">Link 4</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="footer-copyright blue darken-4">
        <div class="container">
            Made by <a class="orange-text text-lighten-3" href="http://materializecss.com">Materialize</a>
        </div>
    </div>
</footer>

<script src="{% static 'main/js/custom.js' %}" type="text/javascript"></script>
<script>
    function updateCartItemCount() {
        var badge = $("#cart-count-badge");
        $.ajax({
            type: "GET",
            url: "{% url 'item_count' %}",
            success: function (data) {
                badge.text(data.count);
            },
            error: function (response, error) {
                console.log(response);
                console.log(error);
            }
        })
    }
    $(document).ready(function () {
        updateCartItemCount();
    });
</script>


{% block js %}
{% endblock %}

</body>
</html>
